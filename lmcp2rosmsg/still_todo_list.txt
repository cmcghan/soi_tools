what needs to change:

DONE-- fix enums (check for preexisting lines before copy-over because rosjava will choke if you add stuff twice :)
DONE-- change catkin package generation to be default? make changes to included find_package and similar myself(?)
    DONE-- fix CMakeLists.txt post-creation
    DONE-- fix package.xml post-creation
DONE, UNNECESSARY TO FIX SOLO, WAS PART OF EARLIER ENUM FIX-- fix enums inclusion in non-native _msgs packages (e.g., don't write cmasi_msgs/name-of-enum varname, instead just write the name-of-enum; also need to copy over enum const. types to the messge as well)



CMakeLists.txt
----------------

""" this can sometimes include deps already if we included them as input to the catkin_package, be careful...
find_package(catkin REQUIRED COMPONENTS # OLD
  cmasi_msgs
)
"""

#find_package(catkin REQUIRED) # OLD
find_package(catkin REQUIRED COMPONENTS # NEW
   roscpp
   rospy
   #rosjava # not necessary to include rosjava, just install ros-kinetic-rosjava and it will automatically run genjava
   std_msgs
   message_generation
)

# add_message_files(
#   FILES
#   Message1.msg
#   Message2.msg
# )

add_message_files( # NEW
  FILES
  AbstractGeometry.msg
  AbstractZone.msg
  AirVehicleConfiguration.msg
  AirVehicleState.msg
  AreaSearchTask.msg
  AutomationRequest.msg
  AutomationResponse.msg
  CameraAction.msg
  CameraConfiguration.msg
  CameraState.msg
  Circle.msg
  EntityConfiguration.msg
  EntityState.msg
  FlightDirectorAction.msg
  FlightProfile.msg
  FollowPathCommand.msg
  GimbalAngleAction.msg
  GimbalConfiguration.msg
  GimballedPayloadState.msg
  GimbalScanAction.msg
  GimbalStareAction.msg
  GimbalState.msg
  GoToWaypointAction.msg
  KeepInZone.msg
  KeepOutZone.msg
  KeyValuePair.msg
  LineSearchTask.msg
  Location3D.msg
  LoiterAction.msg
  LoiterTask.msg
  MissionCommand.msg
  MustFlyTask.msg
  NavigationAction.msg
  OperatingRegion.msg
  OperatorSignal.msg
  PathWaypoint.msg
  PayloadAction.msg
  PayloadConfiguration.msg
  PayloadState.msg
  PayloadStowAction.msg
  PointSearchTask.msg
  Polygon.msg
  Rectangle.msg
  RemoveEntities.msg
  RemoveTasks.msg
  RemoveZones.msg
  SearchTask.msg
  ServiceStatus.msg
  SessionStatus.msg
  StopMovementAction.msg
  Task.msg
  VehicleActionCommand.msg
  VehicleAction.msg
  VideoStreamAction.msg
  VideoStreamConfiguration.msg
  VideoStreamState.msg
  Waypoint.msg
  WaypointTransfer.msg
  WeatherReport.msg
  Wedge.msg
)

# generate_messages(
#   DEPENDENCIES
#   std_msgs  # Or other packages containing msgs
# )

generate_messages( # NEW
  DEPENDENCIES
  std_msgs  # Or other packages containing msgs
)

catkin_package(
#  INCLUDE_DIRS include
#  LIBRARIES cmasi_msgs
#  CATKIN_DEPENDS other_catkin_pkg
  CATKIN_DEPENDS message_runtime # NEW
#  DEPENDS system_lib
)

or if have addtl deps on other message packages, too

catkin_package(
#  INCLUDE_DIRS include
#  LIBRARIES perceive_msgs
  CATKIN_DEPENDS message_runtime # NEW
  CATKIN_DEPENDS cmasi_msgs
#  DEPENDS system_lib
)

----------------






package.xml
----------------
  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>message_generation</build_depend> <!-- NEW -->
  <run_depend>message_runtime</run_depend> <!-- NEW -->


----------------

--eof--
